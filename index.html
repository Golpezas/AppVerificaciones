<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Control de Flota y Personal</title>
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <header>
        <h1>Control de Flota y Personal | Dashboard MAC Seguridad</h1>
    </header>

    <main>
        <section class="controls">
            <div class="tabs-container">
                <button class="tab-button active" data-sheet="Verificacion de Baterias/Patrullas">Verificación B/P</button>
                <button class="tab-button" data-sheet="Verificacion de objetivos MAC">Verificación MAC</button>
                <button class="tab-button" data-sheet="Verificacion de sitios Aysa">Verificación AYSA</button>
                <button class="tab-button" data-sheet="verificacion de bases">Verificación BASES</button>
                <button class="tab-button" data-sheet="Recorridos_Consolidados">Recorridos Supervisores</button> 
            </div>
            
            <div class="filter-bar">
                <input type="text" id="searchInput" placeholder="Buscar por Puesto, Dominio, o Vigilador...">
                <select id="alertFilter">
                    <option value="all">Mostrar Todos</option>
                    <option value="alerts">🚨 Mostrar Solo Alertas</option>
                </select>
            </div>
        </section>

        <section class="summary-section">
            <div id="repetitionAnalysisContainer" class="analysis-box" style="display: none;">
                <h4>Análisis de Chequeos Duplicados</h4>
                <p>Se encontraron <span id="repetitionCount">0</span> días con objetivos visitados por múltiples supervisores en la misma fecha.</p>
                <button id="toggleRepetitionsBtn" class="button-small" onclick="window.toggleRepetitionDetails()">Ver Detalles</button>
                <div id="repetitionResults">
                    </div>
            </div>
            <div id="supervisorSummary">
                </div>

            <div class="recorrido-details-container"> 
                <div class="recorrido-controls">
                    <div id="recorridoInstructions">
                        </div>
                    <input type="date" id="recorridoDateSelector" title="Seleccionar fecha del recorrido">
                </div>
        
                <div id="recorridoContainer">
                    </div>
            </div>
        </section>

        <section class="data-display">
            <h2 id="resultsTitle">Resultados del Chequeo (<span id="countDisplay">0</span>)</h2>
            <div id="dataContainer" class="responsive-data">
            </div>
        </section>

        <div id="detailsModal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h3>Detalles del Chequeo</h3>
                <div id="modalBody"></div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 MacSeguridad Control.</p>
    </footer>

    <script src="script.js"></script> 
</body>
</html>